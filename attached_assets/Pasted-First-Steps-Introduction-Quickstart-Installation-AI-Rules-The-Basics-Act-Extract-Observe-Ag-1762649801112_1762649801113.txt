First Steps
Introduction
Quickstart
Installation
AI Rules
The Basics
Act
Extract
Observe
Agent
Evals
Configuration
Browser
Observability
Logging
Models
Best Practices
Caching Actions
Cost Optimization
Deterministic Agent
Using Multiple Tabs
Deploying Stagehand
History Tracking
Computer Use Agents
Agent Fallbacks
Prompting Best Practices
MCP Integrations
Speed Optimization
Integrations

MCP Server

CrewAI

Langchain

Next.js + Vercel
Playwright
Puppeteer
Selenium
Reference
Stagehand
act()
extract()
observe()
agent()
context
page
locator
deepLocator
Response
Migration Guides
Migrate Stagehand v2 to v3
Support

On this page
What is act()?
Why use act()?
Using act()
Return value of act()?
Advanced Configuration
Using with Custom Pages
Best practices
Ensure reliable actions
Reduce model costs
Secure your automations
Troubleshooting
Next steps
The Basics
Act

Copy page

Interact with a web page

​
What is act()?

Copy

Ask AI
await stagehand.act("click on add to cart")
act enables Stagehand to perform individual actions on a web page. Use it to build self-healing and deterministic automations that adapt to website changes.
​
Why use act()?
Natural Language Instructions
Write automation in plain English. No selectors or complex syntax.
Precise Control
Build automations step by step. Define exactly what happens at every moment.
Self-Healing
Actions automatically adapt when websites change.
Caching
Cache actions to avoid LLM calls and ensure consistent execution across runs.
​
Using act()
Use act to perform single actions in your automation. Here’s how to click a button:

Copy

Ask AI
await page.goto("https://example-store.com");
await stagehand.act("click the add to cart button");
iFrame and Shadow DOM Support Stagehand automatically handles iFrame traversal and shadow DOM elements without requiring additional configuration.
With act, breaking complex actions into small, single-step actions works best. If you need to orchestrate multi-step flows, use multiple act commands or agent.
Suggested actions

​
Return value of act()?
When you use act(), Stagehand will return a Promise<ActResult> with the following structure:

Copy

Ask AI
{
  success: true,
  message: 'Action [click] performed successfully on selector: xpath=/html[1]/body[1]/div[1]/span[1] → Action [click] performed successfully on selector: xpath=/html[1]/body[1]/div[2]/div[1]/section[1]/div[1]/div[1]/div[25]',
  actionDescription: 'Favorite Colour',
  actions: [
    {
      selector: 'xpath=/html[1]/body[1]/div[1]/span[1]',
      description: 'Favorite Colour',
      method: 'click',
      arguments: []
    },
    {
      selector: 'xpath=/html[1]/body[1]/div[2]/div[1]/section[1]/div[1]/div[1]/div[25]',
      description: 'Peach',
      method: 'click',
      arguments: []
    }
  ]
}
Do this
Don't do this
Break your task into single-step actions.

Copy

Ask AI
// Break it into single-step actions
await stagehand.act("open the filters panel");
await stagehand.act("choose 4-star rating");
await stagehand.act("click the apply button");
​
Advanced Configuration
You can pass additional options to configure the model, timeout, variables, and target page:

Copy

Ask AI
// Custom model configuration
await stagehand.act("choose 'Peach' from the favorite color dropdown", {
  model: {
    modelName: "google/gemini-2.5-flash",
    apiKey: process.env.GEMINI_API_KEY
  },
  timeout: 10000
});
​
Using with Custom Pages
You can use act() with pages from other browser automation libraries like Puppeteer, Playwright, or Patchright by passing the page option:

Copy

Ask AI
import { Stagehand } from "@browserbasehq/stagehand";
import puppeteer from "puppeteer-core";

const stagehand = new Stagehand({
  env: "BROWSERBASE",
});
await stagehand.init();

// Connect with Puppeteer
const browser = await puppeteer.connect({
  browserWSEndpoint: stagehand.connectURL(),
  defaultViewport: null,
});

const pages = await browser.pages();
const customPage = pages[0];

await customPage.goto("https://www.example.com/blog");

// Use act with the custom Puppeteer page
await stagehand.act("click the next page button", {
  page: customPage
});
This works with:
Puppeteer: Pass Puppeteer Page objects
Playwright: Pass Playwright Page objects
Patchright: Pass Patchright Page objects
Stagehand Page: Use stagehand.context.pages()[0] or context.activePage() (default)
Complete API Reference
See the full act() reference for detailed parameter documentation, return values, and advanced examples.
​
Best practices
​
Ensure reliable actions
Use observe() to discover candidate actions on the current page and plan reliably. It returns a list of suggested actions (with selector, description, method, and arguments). You can pass an observed action directly to act to execute it.

Copy

Ask AI
const [action] = await stagehand.observe("click the login button");

if (action) {
  await stagehand.act(action);
}
Analyze pages with observe()
Plan actions with observe() before executing with act.
​
Reduce model costs
Enable automatic action caching by specifying a cacheDir when initializing Stagehand. The first time an action runs, it’s cached. Subsequent runs reuse the cached action without LLM calls.

Copy

Ask AI
import { Stagehand } from "@browserbasehq/stagehand";

// Enable caching by specifying a cache directory
const stagehand = new Stagehand({
  env: "BROWSERBASE",
  cacheDir: "act-cache" // Actions are automatically cached here
});

await stagehand.init();
const page = stagehand.context.pages()[0];

// First run - makes LLM call and caches the action
await stagehand.act("click the login button");
Caching persists across script executions. The first time you run your script, actions are cached to your local filesystem. On subsequent runs, cached actions are reused automatically, significantly reducing costs and improving performance.
Complete caching guide
Learn advanced caching techniques and patterns for optimal performance.
​
Secure your automations
Variables are not shared with LLM providers. Use them for passwords, API keys, and other sensitive data.
Load sensitive data from environment variables using .env files. Never hardcode API keys, passwords, or other secrets directly in your code.

Copy

Ask AI
// Variables use %variableName% syntax in the instruction
await stagehand.act("type %username% into the email field", {
  variables: { username: "user@example.com" }
});

await stagehand.act("type %password% into the password field", {
  variables: { password: process.env.USER_PASSWORD }
});

await stagehand.act("click the login button");
When handling sensitive data, set verbose: 0 in your Stagehand configuration to prevent secrets from appearing in logs. See the configuration guide for more details.
User Data Best Practices
Complete guide to securing your browser automations with best practices and configurations.
​
Troubleshooting
Method not supported

Action failed or timed out

Incorrect element selected

​
Next steps
Orchestrate complex workflows with Agent
Use Agent to autonomously execute multi-step tasks and complex workflows.
Caching actions
Speed up repeated automations by caching actions.
Extract data with extract()
Use extract with a data schema to pull clean, typed data from any page.
Preview actions with observe()
Preview actions with observe() before executing them.
AI Rules
Extract
Ask a question...

x