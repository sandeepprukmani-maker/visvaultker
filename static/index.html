<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Automation Engine</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ¤– AI Automation Engine</h1>
            <p>Automate any website with natural language</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="showTab('crawl')">Crawl Website</button>
            <button class="tab-btn" onclick="showTab('automate')">Run Automation</button>
            <button class="tab-btn" onclick="showTab('search')">Search Elements</button>
            <button class="tab-btn" onclick="showTab('metrics')">Metrics</button>
        </div>

        <div id="crawl-tab" class="tab-content active">
            <h2>Crawl a Website</h2>
            <p>First, let the system learn about a website by crawling it.</p>
            <form id="crawl-form">
                <div class="form-group">
                    <label for="crawl-url">Website URL:</label>
                    <input type="url" id="crawl-url" placeholder="https://example.com" required>
                </div>
                <div class="form-group">
                    <label for="crawl-depth">Depth:</label>
                    <input type="number" id="crawl-depth" value="1" min="1" max="5">
                </div>
                <button type="submit" class="btn btn-primary">Start Crawl</button>
            </form>
            <div id="crawl-result" class="result-box"></div>
        </div>

        <div id="automate-tab" class="tab-content">
            <h2>Run Automation</h2>
            <p>Describe what you want to automate in plain English.</p>
            <form id="automate-form">
                <div class="form-group">
                    <label for="auto-url">Starting URL:</label>
                    <input type="url" id="auto-url" placeholder="https://example.com" required>
                </div>
                <div class="form-group">
                    <label for="auto-task">Task Description:</label>
                    <textarea id="auto-task" rows="3" placeholder="Example: Click the login button and fill out the form with username 'test' and password 'demo123'" required></textarea>
                </div>
                <div class="form-group checkbox-group">
                    <label>
                        <input type="checkbox" id="enable-vision" checked>
                        Enable Vision (AI visual element detection)
                    </label>
                </div>
                <button type="submit" class="btn btn-primary">Run Automation</button>
            </form>
            <div id="automate-result" class="result-box"></div>
        </div>

        <div id="search-tab" class="tab-content">
            <h2>Search for Elements</h2>
            <p>Find UI elements using natural language.</p>
            <form id="search-form">
                <div class="form-group">
                    <label for="search-query">Search Query:</label>
                    <input type="text" id="search-query" placeholder="login button" required>
                </div>
                <div class="form-group">
                    <label for="search-top-k">Number of Results:</label>
                    <input type="number" id="search-top-k" value="5" min="1" max="20">
                </div>
                <button type="submit" class="btn btn-primary">Search</button>
            </form>
            <div id="search-result" class="result-box"></div>
        </div>

        <div id="metrics-tab" class="tab-content">
            <h2>System Metrics</h2>
            <button class="btn btn-secondary" onclick="loadMetrics()">Refresh Metrics</button>
            <div id="metrics-result" class="result-box"></div>
        </div>

        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Processing...</p>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
